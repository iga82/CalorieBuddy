<!DOCTYPE html>
<html>
  <head>
    <title>{{ title }}</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src='/javascripts/globals.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  </head>
  <body>
    <h1>{{ title }}</h1>
    <p>Welcome to {{ title }}</p>

  <div>
    <h1 class="calorieTotal" style="color: red;">0</h1>
  </div>

  <div class="itemSelect">
  </div>

  <button class="btn1">Add New Item</button>
  <button class="btn2">Done</button>

  <script>
    $(document).ready(function() {
      $(".btn1").click(function(){
        $('.itemSelect').append("<div><select class='select" + selectIndex + "'></select> Amount:<input type='text' name='amount' size='4'></div>");
        var selectDiv = '.select' + selectIndex;
        for(var key in calorie_dictionary){
          $(selectDiv).append("<option>" + key + "</option>");
        }
        // increase index to make selects unique
        selectIndex += 1;
      });

      $(".btn2").click(function(){
        // get key from dictionary
        var key = $('.select0').val();
        // get value from calorie dictionary
        var value = calorie_dictionary[key];
        total_calorie_count += value;
        $('.calorieTotal').html(total_calorie_count);
      });
    });
  </script>

</html>